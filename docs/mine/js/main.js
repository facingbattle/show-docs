"use strict";var templateCell=function(e,a){var s={0:"white",1:"blue",2:"green",3:"red",4:"#04207f",5:"#800f00",6:"#067f7f",7:"black",8:"#808080"},i="";return e.forEach(function(e,t){var n;i+=(n=a,t=t,'\n        <div class="cell" data-number="'.concat(e=e,'" data-x="').concat(n,'" data-y="').concat(t,'" style="color: ').concat(s[e],'">').concat(e,"</div>\n        "))}),'\n    <div class="row">\n      '.concat(i,"\n    </div>\n    ")},templateRow=function(e){var n="";return e.forEach(function(e,t){n+=templateCell(e,t)}),n},renderSquare=function(t){var n=e("#id-div-mime"),t=templateRow(t);n.insertAdjacentHTML("beforeend",t)},bindEventClickLeft=function(e,a){e.addEventListener("click",function(e){var t=e.target,n=t.classList.contains("question-marked"),e=t.classList.contains("marked");!t.classList.contains("cell")||n||e||vjkl(t,a)})},bindEventClickRight=function(e,t){e.addEventListener("contextmenu",function(e){var t=e.target;e.preventDefault(),t.classList.contains("question-marked")?t.classList.remove("question-marked"):t.classList.contains("marked")?(t.classList.remove("marked"),t.classList.add("question-marked")):t.classList.contains("cell")&&t.classList.add("marked")})},bindEventClickYesNo=function(t){var n=e(".mask"),a=e('[data-notice="fail"]'),s=e('[data-notice="success"]');t.addEventListener("click",function(e){e=e.target;e.classList.contains("btn-yes")?location.reload():e.classList.contains("btn-no")&&(n.style.display="none",a.style.display="none",s.style.display="none")})},bindEventDelegate=function(t){var n=e("#id-div-mime");bindEventClickLeft(n,t),bindEventClickRight(n,t);t=e(".notice-container");bindEventClickYesNo(t)},vjkl=function(e,t){var n;e.classList.contains("opened")||(e.classList.add("opened"),totalOpened.plusTotalCur(),totalOpened.getTotal()===totalOpened.getTotalCur()&&(console.log("过关"),emitNotice(!0)),9===(n=Number(e.dataset.number))?(es('.cell[data-number="9"]').forEach(function(e){return e.classList.add("opened","game-over")}),console.log("game over"),emitNotice(!1)):0===n&&(n=Number(e.dataset.x),e=Number(e.dataset.y),vjklAround(t,n,e)))},vjklAround=function(e,t,n){vjkl1(e,t-1,n-1),vjkl1(e,t-1,n),vjkl1(e,t-1,n+1),vjkl1(e,t,n-1),vjkl1(e,t,n+1),vjkl1(e,t+1,n-1),vjkl1(e,t+1,n),vjkl1(e,t+1,n+1)},vjkl1=function(t,n,a){var s,i=t.length;0<=n&&n<i&&0<=a&&a<i&&(s=e('[data-x="'.concat(n,'"][data-y="').concat(a,'"]')),9===(i=Number(s.dataset.number))||(0===i?s.classList.contains("opened")||(s.classList.add("opened"),totalOpened.plusTotalCur(),vjklAround(t,n,a)):s.classList.contains("opened")||(totalOpened.plusTotalCur(),s.classList.add("opened"))))},__main=function(){var e=getMarkedSquare(25,25,60);console.log("square -> ",e),renderSquare(e),bindEventDelegate(e)};__main();